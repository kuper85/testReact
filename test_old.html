<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello React!</title>
    <script src="build/react.js"></script>
    <script src="build/JSXTransformer.js"></script>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <script type="text/jsx">
"use strict";

let MultiSel = React.createClass({
    click: function() {
	this.setState({checked: !this.state.checked})
let inps = document.querySelectorAll('th>input');
for(let i=0; i<inps.length;i++){
inps[i].checked=!this.state.checked;
}
},
getInitialState: function(){
     return {
       checked: false
     }
},
render: function() {
return <input className="multi-select" type="checkbox" onClick={this.click} />
}
});

let MyButton = React.createClass({
    btnHandler: function(){
let inps = document.querySelectorAll('th>input:checked');
let arr = [];
for(let i=0; i<inps.length;i++){
arr.push(inps[i].value);
}
console.log('ID\'s:',arr.join(','))
},
render: function() {
return <button className="btn btn-default action-button" type="submit"  onClick={this.btnHandler}>Show selected id's</button>
}
});

let Table = React.createClass({
render: function() {
        return <table className="table">
			<thead>
                <tr>
                    <th>#</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Username</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <th scope="row"><input type="checkbox" value="1"/></th>
                    <td>Mark</td>
                    <td>Otto</td>
                    <td>@mdo</td>
                </tr>
                <tr>
                    <th scope="row"><input type="checkbox" value="2" /></th>
                    <td>Jacob</td>
                    <td>Thornton</td>
                    <td>@fat</td>
                </tr>
                <tr>
                    <th scope="row"><input type="checkbox" value="3" /></th>
                    <td>Larry</td>
                    <td>the Bird</td>
                    <td>@twitter</td>
                </tr>
            </tbody>
	       </table>;
    }
});

let MainPanel = React.createClass({
getInitialState: function(){
     return {
       checkedAll: false
     }
},
render: function(){
return <div className="panel panel-default">
    	<div className="panel-heading">
	  <MultiSel />
	  <MyButton />
	</div>
	<div className="panel-body">
	  <Table />
	</div>
    </div>
}
});

React.render(<MainPanel />, document.body);

    </script>
  </body>
</html>
